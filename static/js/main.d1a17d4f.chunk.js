(this["webpackJsonpreact-store"]=this["webpackJsonpreact-store"]||[]).push([[0],{29:function(e,t,c){},30:function(e,t,c){},32:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(20),s=c.n(r),o=(c(29),c(2)),i=Object(a.createContext)(),d=(c(30),c(0)),l=function(e){var t=e.item,c=t.title,n=t.price,r=t.goodId,s=e.onDelete,o=e.onCartClick,l=Object(a.useContext)(i).cartState.goods.find((function(e){return e.goodId===r}));return Object(d.jsxs)("div",{className:"FavouritesItem",children:[Object(d.jsxs)("div",{className:"FavouritesItem__price",children:[n," \u20bd"]}),Object(d.jsx)("div",{className:"FavouritesItem__title",children:c}),Object(d.jsxs)("div",{className:"FavouritesItem__btn",onClick:o,children:["\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443\xa0",Object(d.jsx)("div",{className:"FavouritesItem__logo ".concat(l?"not-empty":"empty")})]}),Object(d.jsx)("div",{className:"FavouritesItem__btn",onClick:s,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},u=c(13),j=(c(32),Object(a.createContext)()),b=function(e){var t=Object(a.useContext)(j);return Object(d.jsxs)("div",{className:"Header",children:[Object(d.jsx)(u.b,{to:"/",className:"Header__link",children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"}),Object(d.jsx)(u.b,{to:"/favourites",className:"Header__link ".concat(t.favouritesState.favourites.length?"not-empty":"empty"),children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]})},O=(c(38),function(e){var t=e.children;return Object(d.jsxs)("div",{className:"Page",children:[Object(d.jsx)(b,{}),Object(d.jsx)("div",{className:"main",children:t})]})}),g=(c(39),c(40),function(e){var t=Object(o.f)(),c=Object(a.useContext)(i);return Object(d.jsx)("div",{className:"LastFavouritesItem",children:Object(d.jsxs)("div",{className:"LastFavouritesItem__btn",onClick:function(){return t.push("/cart")},children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430\xa0",Object(d.jsx)("div",{className:"LastFavouritesItem__logo ".concat(c.cartState.goods.length?"not-empty":"empty")})]})})}),m=function(e){var t=Object(a.useContext)(j),c=Object(a.useContext)(i);return Object(d.jsx)(O,{children:Object(d.jsxs)("div",{className:"Favourites",children:[Object(d.jsx)("div",{className:"Favourites__text Favourites__text_large",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),t.favouritesState.favourites.length?t.favouritesState.favourites.map((function(e){return Object(d.jsx)(l,{item:e,onDelete:function(){return t.deleteItem(e.goodId)},onCartClick:function(){return c.addGood(e)}},e.goodId)})):Object(d.jsx)("div",{className:"Favourites__text",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u043e"}),Object(d.jsx)(g,{})]})})},p=(c(41),c(42),function(){var e=Object(o.f)(),t=Object(a.useContext)(i);return Object(d.jsxs)("div",{className:"CartCard",onClick:function(){return e.push("/cart")},children:[Object(d.jsx)("p",{className:"CartCard__title",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430\xa0"}),Object(d.jsx)("div",{className:"CartCard__logo ".concat(t.cartState.goods.length?"not-empty":"empty")})]})}),h=Object(a.createContext)(),f=(c(43),function(e){var t=Object(a.useContext)(h);return Object(d.jsx)("div",{className:"Search",children:Object(d.jsx)("input",{className:"Search__input",type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432",onKeyPress:function(e){"Enter"===e.key&&t.searchHandler(e.target.value)}})})}),x=c(8),v=(c(44),function(e){var t=Object(a.useState)(0),c=Object(x.a)(t,2),n=c[0],r=c[1],s=[Object(d.jsxs)("p",{className:"SliderCard__text",children:[Object(d.jsx)("span",{className:"blue",children:"\u041d\u0430\u0439\u0434\u0438\u0442\u0435"})," \u0442\u043e\u0432\u0430\u0440"]}),Object(d.jsxs)("p",{className:"SliderCard__text",children:["\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432 ",Object(d.jsx)("span",{className:"orange",children:"\u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),Object(d.jsxs)("p",{className:"SliderCard__text",children:["\u0418\u043b\u0438 \u0432 ",Object(d.jsx)("span",{className:"grey",children:"\u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}),Object(d.jsxs)("p",{className:"SliderCard__text",children:["\u0418 ",Object(d.jsx)("span",{className:"green",children:"\u043a\u0443\u043f\u0438\u0442\u0435"}),"!"]})];return Object(d.jsxs)("div",{className:"SliderCard",children:[Object(d.jsx)("div",{className:"SliderCard__btn",onClick:function(){0!==n&&r((function(e){return e-1}))},children:"<"}),Object(d.jsx)("div",{className:"SliderCard__card",children:s[n]}),Object(d.jsx)("div",{className:"SliderCard__btn",onClick:function(){n!==s.length-1&&r((function(e){return e+1}))},children:">"})]})}),_=(c(45),function(e){return Object(d.jsxs)("div",{className:"SearchCard",children:[Object(d.jsx)(f,{}),Object(d.jsx)(v,{})]})}),C=(c(46),function(e){var t=Object(a.useContext)(h);return Object(d.jsxs)("div",{className:"Slider",children:[Object(d.jsx)("div",{className:"Slider__btn",onClick:t.onLeftHandler,children:"<"}),Object(d.jsx)("div",{className:"Slider__page",children:t.goodsState.pageId+1}),Object(d.jsx)("div",{className:"Slider__btn",onClick:t.onRightHandler,children:">"})]})}),I=(c(47),function(e){var t=e.title,c=e.price,n=e.url,r=e.goodId,s=e.onFavouritesClick,o=e.onCartClick,l=Object(a.useContext)(i),u=Object(a.useContext)(j),b=l.cartState.goods.find((function(e){return e.goodId===r})),O=u.favouritesState.favourites.find((function(e){return e.goodId===r}));return Object(d.jsxs)("div",{className:"GoodCard",children:[Object(d.jsx)("div",{className:"GoodCard__img",style:{background:'url("'.concat(n,'") 50%/100% no-repeat')}}),Object(d.jsxs)("div",{className:"GoodCard__container",children:[Object(d.jsxs)("div",{className:"GoodCard__info-container",children:[Object(d.jsxs)("div",{className:"GoodCard__price",children:[c," \u20bd"]}),Object(d.jsx)("div",{className:"GoodCard__title",children:t})]}),Object(d.jsxs)("div",{className:"GoodCard__btn-container",children:[Object(d.jsxs)("div",{className:"GoodCard__btn",onClick:o,children:["\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443\xa0",Object(d.jsx)("div",{className:"GoodCard__logo ".concat(b?"not-empty":"empty")})]}),Object(d.jsx)("div",{className:"GoodCard__btn ".concat(O?"not-empty":"empty"),onClick:s,children:"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]})]})]})}),N=function(e){var t=Object(a.useContext)(h),c=Object(a.useContext)(j),n=Object(a.useContext)(i);return Object(a.useEffect)((function(){t.setGoods()}),[]),Object(d.jsxs)(O,{children:[Object(d.jsxs)("div",{className:"Main",children:[Object(d.jsx)(_,{}),Object(d.jsx)(p,{}),t.goodsState.filteredGoods.map((function(e,a){return 10*t.goodsState.pageId<=a&&a<10*(t.goodsState.pageId+1)?Object(d.jsx)(I,{goodId:e.goodId,title:e.title,price:e.price,url:e.url,onFavouritesClick:function(){return c.addItem(e)},onCartClick:function(){return n.addGood(e)}},e.goodId):null}))]}),t.goodsState.numOfPages?Object(d.jsx)(C,{}):Object(d.jsx)("div",{className:"Main__text",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})},S=(c(48),c(49),function(e){var t=e.good,c=t.title,a=t.price,n=e.onDelete;return Object(d.jsxs)("div",{className:"CartItem",children:[Object(d.jsxs)("div",{className:"CartItem__price",children:[a," \u20bd"]}),Object(d.jsx)("div",{className:"CartItem__title",children:c}),Object(d.jsx)("div",{className:"CartItem__btn",onClick:n,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}),k=(c(50),function(e){var t=e.total,c=Object(a.useContext)(i);return Object(d.jsxs)("div",{className:"LastCartItem",children:[Object(d.jsxs)("div",{className:"LastCartItem__price",children:[t," \u20bd"]}),Object(d.jsx)("div",{className:"LastCartItem__title",children:"\u0418\u0442\u043e\u0433\u043e"}),Object(d.jsx)("div",{className:"LastCartItem__btn",onClick:c.clearCart,children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0432\u0441\u0435"})]})}),y=function(e){var t=Object(a.useContext)(i);return Object(d.jsx)(O,{children:Object(d.jsxs)("div",{className:"Cart",children:[Object(d.jsx)("div",{className:"Cart__text Cart__text_large",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),t.cartState.goods.length?t.cartState.goods.map((function(e){return Object(d.jsx)(S,{good:e,onDelete:function(){return t.deleteGood(e.id)}},e.id)})):Object(d.jsx)("div",{className:"Cart__text",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u043e"}),t.cartState.goods.length?Object(d.jsx)(k,{total:t.cartState.total}):null]})})},G=c(18),F=c.n(G),L=c(23),E="SET_GOODS",D="ON_RIGHT",P="ON_LEFT",w="FILTER_GOODS",T=c(3),H=c(9);var R=function(e,t){switch(t.type){case E:var c=e.filteredGoods.length?Object(H.a)(e.filteredGoods):Object(H.a)(t.goods);return Object(T.a)(Object(T.a)({},e),{},{goods:Object(H.a)(t.goods),filteredGoods:c,numOfPages:Math.ceil(c.length/10)});case P:return Object(T.a)(Object(T.a)({},e),{},{pageId:e.pageId-1});case D:return Object(T.a)(Object(T.a)({},e),{},{pageId:e.pageId+1});case w:var a=e.goods.filter((function(e){return e.title.toLocaleLowerCase().includes(t.string.toLocaleLowerCase())}));return Object(T.a)(Object(T.a)({},e),{},{filteredGoods:a,numOfPages:Math.ceil(a.length/10),pageId:0});default:return e}},M=function(e){var t=e.children,c=Object(a.useReducer)(R,{goods:[],filteredGoods:[],numOfPages:0,pageId:0}),n=Object(x.a)(c,2),r=n[0],s=n[1];function o(){return(o=Object(L.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:E,goods:[{goodId:0,title:"\u041d\u043e\u0443\u0442\u0431\u0443\u043a",price:3e4,url:"https://mr-robot-kld.s3.eu-west-2.amazonaws.com/iblock/d1c/d1c3b6c8db62b7e95c030b5e727cafed/e4cc66d820ca2d181290e0d1ff99258e.jpg"},{goodId:1,title:"\u041d\u043e\u0443\u0442\u0431\u0443\u043a",price:4e4,url:"https://miasskoe.eto1.ru/img-HAIER/A1400EDTD0036475RU-1-4-1630550823.jpg"},{goodId:2,title:"\u041d\u043e\u0443\u0442\u0431\u0443\u043a",price:54e3,url:"https://aty800.com/tablet/.assets/thumbnail/elite-dragonfly-1200wi.jpg"},{goodId:3,title:"\u041d\u043e\u0443\u0442\u0431\u0443\u043a",price:41e3,url:"https://items.s1.citilink.ru/1590600_v01_b.jpg"},{goodId:4,title:"\u041d\u043e\u0443\u0442\u0431\u0443\u043a",price:37e3,url:"https://static.price.ru/images/models/1000x1000/noutbuk/digma-eve-15-c407/ed01e343ca6cd77bccba83c9a06473a4.JPEG"},{goodId:5,title:"\u0421\u043c\u0430\u0440\u0442\u0444\u043e\u043d",price:6e4,url:"https://img.gkbcdn.com/s3/p/2019-11-22/apple-iphone-x-64gb-gray--used--20191122085301167.jpg"},{goodId:6,title:"\u0421\u043c\u0430\u0440\u0442\u0444\u043e\u043d",price:55e3,url:"https://images-na.ssl-images-amazon.com/images/I/61GUOlgK7GL.jpg"},{goodId:7,title:"\u0421\u043c\u0430\u0440\u0442\u0444\u043e\u043d",price:17e3,url:"https://rostov-na-donu.xiacom.ru/upload/iblock/698/-xiaomi-redmi-k30-4g-128gb-8gb-pink-.jpg"},{goodId:8,title:"\u041d\u0430\u0443\u0448\u043d\u0438\u043a\u0438",price:5e3,url:"https://gyroshopspb.ru/upload/iblock/7bc/7bc5501afc78e8a61b3d4d4cf1559d5d.jpg"},{goodId:9,title:"\u041d\u0430\u0443\u0448\u043d\u0438\u043a\u0438",price:4e3,url:"https://audio-technica-shop.ru/image/cache/catalog/0708/besprovodnye-naushniki-s-mikrofonom-jbl-c45-bt-black-100023587377-1000x1000.jpg"},{goodId:10,title:"\u0420\u043e\u0431\u043e\u0442-\u043f\u044b\u043b\u0435\u0441\u043e\u0441",price:17e3,url:"https://shop-polaris.ru/upload/iblock/7ae/61_14.jpg"},{goodId:11,title:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440",price:13e3,url:"https://cdn1.ozone.ru/s3/multimedia-g/6040344352.jpg"},{goodId:12,title:"\u041a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430",price:3e3,url:"https://cdn1.ozone.ru/s3/multimedia-s/6009413020.jpg"},{goodId:13,title:"\u041c\u044b\u0448\u044c",price:5e3,url:"https://pcshop.ua/image/cache/catalog/tovar/24356-1024x768.jpg"}]});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsx)(h.Provider,{value:{goodsState:r,setGoods:function(){return o.apply(this,arguments)},onRightHandler:function(){r.pageId!==r.numOfPages-1&&s({type:D})},onLeftHandler:function(){0!==r.pageId&&s({type:P})},searchHandler:function(e){s({type:w,string:e})}},children:t})},A="ADD_GOOD",z="DELETE_GOOD",J="CLEAR_CART",B=c(24);var K=function(e,t){switch(t.type){case A:var c=Object(T.a)({},t.good);return c.id=e.goods.length,Object(T.a)(Object(T.a)({},e),{},{goods:[].concat(Object(H.a)(e.goods),[c]),total:e.total+c.price});case z:var a,n=e.goods.filter((function(e){return e.id!==t.id})),r=0,s=Object(B.a)(n);try{for(s.s();!(a=s.n()).done;){r+=a.value.price}}catch(o){s.e(o)}finally{s.f()}return Object(T.a)(Object(T.a)({},e),{},{goods:n,total:r});case J:return Object(T.a)(Object(T.a)({},e),{},{total:0,goods:[]});default:return e}},U=function(e){var t=e.children,c=Object(a.useReducer)(K,{goods:[],total:0}),n=Object(x.a)(c,2),r=n[0],s=n[1];return Object(d.jsx)(i.Provider,{value:{cartState:r,addGood:function(e){s({type:A,good:e})},deleteGood:function(e){s({type:z,id:e})},clearCart:function(){s({type:J})}},children:t})},q="ADD_ITEM",Q="DELETE_ITEM";var V=function(e,t){switch(t.type){case q:return Object(T.a)(Object(T.a)({},e),{},{favourites:[].concat(Object(H.a)(e.favourites),[t.item])});case Q:return Object(T.a)(Object(T.a)({},e),{},{favourites:e.favourites.filter((function(e){return e.goodId!==t.goodId}))});default:return e}},W=function(e){var t=e.children,c=Object(a.useReducer)(V,{favourites:[]}),n=Object(x.a)(c,2),r=n[0],s=n[1];return Object(d.jsx)(j.Provider,{value:{favouritesState:r,addItem:function(e){r.favourites.find((function(t){return e.goodId===t.goodId}))||s({type:q,item:e})},deleteItem:function(e){s({type:Q,goodId:e})}},children:t})},X=function(e){return Object(d.jsx)(W,{children:Object(d.jsx)(U,{children:Object(d.jsx)(M,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",exact:!0,component:N}),Object(d.jsx)(o.a,{path:"/favourites",component:m}),Object(d.jsx)(o.a,{path:"/cart",component:y})]})})})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,53)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))},Z=Object(d.jsx)(u.a,{children:Object(d.jsx)(X,{})});s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Z}),document.getElementById("root")),Y()}},[[52,1,2]]]);
//# sourceMappingURL=main.d1a17d4f.chunk.js.map